// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.
import { TracingAttributes, TracingUtility, TracingOperationName } from "../tracing.js";
import { addMessageEvent } from "./traceUtility.js";
export function traceStartCreateMessage(span, threadId, options) {
    TracingUtility.setSpanAttributes(span, TracingOperationName.CREATE_MESSAGE, {
        threadId: threadId,
        genAiSystem: TracingAttributes.AZ_AI_AGENT_SYSTEM,
    });
    addMessageEvent(span, Object.assign(Object.assign({}, options.body), { thread_id: threadId }));
}
export async function traceEndCreateMessage(span, _options, result) {
    const resolvedResult = await result;
    TracingUtility.updateSpanAttributes(span, { messageId: resolvedResult.id });
}
export function traceStartListMessages(span, threadId, _options) {
    TracingUtility.setSpanAttributes(span, TracingOperationName.LIST_MESSAGES, {
        threadId: threadId,
        genAiSystem: TracingAttributes.AZ_AI_AGENT_SYSTEM,
    });
}
export async function traceEndListMessages(span, _options, result) {
    var _a;
    const resolvedResult = await result;
    (_a = resolvedResult.data) === null || _a === void 0 ? void 0 : _a.forEach((message) => {
        addMessageEvent(span, message);
    });
}
//# sourceMappingURL=messagesTrace.js.map