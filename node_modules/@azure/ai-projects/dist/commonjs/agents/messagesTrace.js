"use strict";
// Copyright (c) Microsoft Corporation.
// Licensed under the MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.traceStartCreateMessage = traceStartCreateMessage;
exports.traceEndCreateMessage = traceEndCreateMessage;
exports.traceStartListMessages = traceStartListMessages;
exports.traceEndListMessages = traceEndListMessages;
const tracing_js_1 = require("../tracing.js");
const traceUtility_js_1 = require("./traceUtility.js");
function traceStartCreateMessage(span, threadId, options) {
    tracing_js_1.TracingUtility.setSpanAttributes(span, tracing_js_1.TracingOperationName.CREATE_MESSAGE, {
        threadId: threadId,
        genAiSystem: tracing_js_1.TracingAttributes.AZ_AI_AGENT_SYSTEM,
    });
    (0, traceUtility_js_1.addMessageEvent)(span, Object.assign(Object.assign({}, options.body), { thread_id: threadId }));
}
async function traceEndCreateMessage(span, _options, result) {
    const resolvedResult = await result;
    tracing_js_1.TracingUtility.updateSpanAttributes(span, { messageId: resolvedResult.id });
}
function traceStartListMessages(span, threadId, _options) {
    tracing_js_1.TracingUtility.setSpanAttributes(span, tracing_js_1.TracingOperationName.LIST_MESSAGES, {
        threadId: threadId,
        genAiSystem: tracing_js_1.TracingAttributes.AZ_AI_AGENT_SYSTEM,
    });
}
async function traceEndListMessages(span, _options, result) {
    var _a;
    const resolvedResult = await result;
    (_a = resolvedResult.data) === null || _a === void 0 ? void 0 : _a.forEach((message) => {
        (0, traceUtility_js_1.addMessageEvent)(span, message);
    });
}
//# sourceMappingURL=messagesTrace.js.map